Author: IOhannes m zmÃ¶lnig
Description: printf-like varargs functions must have a proper format;
  use "error('%s', str);" rather than "error(str);"
  also pd_error() requires an instance-pointer as the first argument
--- puredata.orig/src/s_print.c
+++ puredata/src/s_print.c
@@ -282,12 +282,11 @@
     va_list ap;
     t_int arg[8];
     int i;
-    strcpy(buf, "consistency check failed: ");
     va_start(ap, fmt);
-    vsnprintf(buf+strlen(buf), MAXPDSTRING-1, fmt, ap);
+    vsnprintf(buf, MAXPDSTRING-1, fmt, ap);
     va_end(ap);
 
-    error(buf);
+    error("consistency check failed: %s", buf);
 }
 
     /* this isn't worked out yet. */
--- puredata.orig/src/x_text.c
+++ puredata/src/x_text.c
@@ -1174,7 +1174,7 @@
         }
         else
         {
-            pd_error("text sequence: unknown flag '%s'...",
+            pd_error(x, "text sequence: unknown flag '%s'...",
                 argv->a_w.w_symbol->s_name);
         }
         argc--; argv++;
